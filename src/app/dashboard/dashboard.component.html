<table mat-table [dataSource]="dataSource" matSort class="mat-elevation-z8">

  <!-- Name Column -->
  <ng-container matColumnDef="name">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Name</th>
    <td mat-cell *matCellDef="let product"> {{product.name}} </td>
    <td mat-footer-cell *matFooterCellDef></td>
  </ng-container>

  <!-- Image Column -->
  <ng-container matColumnDef="image">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Image</th>
    <td mat-cell *matCellDef="let product">
      <img class="image" [src]="'data:image/jpg;base64,'+product.images[0]">
    </td>
    <td mat-footer-cell *matFooterCellDef>
      <p style="float: left">Total</p>
      <button style="float: right" (click)="validate()">validate</button>
    </td>
  </ng-container>

  <!-- Unit price Column -->
  <ng-container matColumnDef="unit_price">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Unit price</th>
    <td mat-cell *matCellDef="let product"> {{product.price.split('|')[0]}} </td>
    <td mat-footer-cell *matFooterCellDef></td>
  </ng-container>

  <!-- Amount Column -->
  <ng-container matColumnDef="amount">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Amount</th>
    <td mat-cell *matCellDef="let product">
      <div class="centerButton">
        <p>{{product.amount}}</p>
        <button class="x" (click)="OnAdd(product.id)" mat-mini-fab style="background-color: green"></button>
        <button class="x" (click)="OnSub(product.id)" mat-mini-fab style="background-color: orange"></button>
      </div>
    </td>
    <td mat-footer-cell *matFooterCellDef></td>
  </ng-container>

  <!-- Total price Column -->
  <ng-container matColumnDef="total_price">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Total price</th>
    <td mat-cell *matCellDef="let product"> {{getPriceAmount(product)}} </td>
    <td mat-footer-cell *matFooterCellDef> {{getTotalCost()}} </td>
  </ng-container>


  <!-- Delete Column -->
  <ng-container matColumnDef="delete">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Delete</th>
    <td mat-cell *matCellDef="let product">
      <button class="x" (click)="OnDelete(product.id)" mat-mini-fab style="background-color: red"></button>
    </td>
    <td mat-footer-cell *matFooterCellDef></td>
  </ng-container>


  <!-- Delete Column -->
  <ng-container matColumnDef="status">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Status</th>
    <td mat-cell *matCellDef="let product">{{getStatus()}}</td>
    <td mat-footer-cell *matFooterCellDef></td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  <tr mat-footer-row *matFooterRowDef="displayedColumns"></tr>
</table>


